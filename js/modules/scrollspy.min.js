LazyScript.load("jquery","underscore",function(t){"use strict";var d=t.$,p=t._;function g(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}function v(t){return t&&"function"==typeof t}function n(t){var n,c=d(),r=d();(n=t)&&("string"==typeof n||n instanceof HTMLElement||n instanceof d)||t===document||t===window?t={container:t}:g(t)||(t={});var o=d(t.container||window);o.length&&(o[0]===window||o[0]instanceof HTMLElement)||(o=d(window));var s=o[0]===window,u=s?function(){return{height:window.innerHeight,top:0,bottom:window.innerHeight}}:function(){return o[0].getBoundingClientRect()},a={pos:.2,unit:"%",current:null};if(t.offset&&!isNaN(parseFloat(t.offset))){var e=parseFloat(t.offset);/%$/.test(t.offset)?(a.pos=e/100,a.unit="%"):(a.pos=Math.round(e),a.unit="px")}function f(t){var n=t.getBoundingClientRect(),e=u();if(n.bottom<=e.top||n.top>=e.bottom)return 0;var i=Math.max(n.top,e.top);return(Math.min(n.bottom,e.bottom)-i)/n.height}function i(){for(var t=a.getPosition(),n=null,e=999999,i=0,r=c.length;i<r;i++){var o=c[i];if(!(f(o)<=0)){var s=o.getBoundingClientRect(),u=Math.abs(t-(s.top+s.height/2));u<e&&(n=o,e=u)}}return n}function h(){for(var t=a.getPosition(),n=0,e=c.length;n<e;n++){var i=c[n],r=i.getBoundingClientRect();if(t>=r.top&&t<=r.bottom)return i}return null}switch(a.getPosition=function(){var t=u();return(0<=this.pos?t.top:t.bottom)+("%"===this.unit?t.height:1)*this.pos},t.method){case"strike":a.getCurrent=function(){return h()};break;case"near":a.getCurrent=function(){return i()};break;default:a.getCurrent=function(){return h()||i()}}var l={cls:"is-active",active:function(t,n){d(t).addClass(n)},deactive:function(t,n){d(t).removeClass(n)}};return{version:"0.2.0",feedback:function(t,n,e){var i;if(this.stop(),(r=d(t)).is('a[href^="#"]')||(r=r.find('a[href^="#"]')),(r=r.filter(function(){return d(this).is('a[href^="#"]')})).length)return(i=n)&&"string"==typeof i&&i.trim().length?l.cls=n:v(n)&&(l.active=n),v(e)&&(l.deactive=e),c=d(),r.each(function(){var t,n=this,e=(t=this.getAttribute("href"),s?d(t)[0]:o.find(t)[0]);e instanceof HTMLElement&&(c=c.add(e),d(e).on("strike",function(){l.active(n,l.cls)}))}),c.length&&this.start(),this},update:function(){var t=a.getCurrent();return t!==a.current&&(r.each(function(){l.deactive(this,l.cls)}),a.current=t),t&&d(t).trigger("strike"),this},start:function(){return r.each(function(){l.deactive(this,l.cls)}),o.off("scroll.spy").on("scroll.spy",p.bind(p.throttle(this.update,100),this)),this.update(),this},stop:function(){return r.each(function(){l.deactive(this,l.cls)}),o.off("scroll.spy"),this},sensor:function(){return{position:a.pos,unit:a.unit,current:a.current}}}}d.fn.scrollspy=function(t){return(t=g(t)?t:{}).container=this,n(t)},t.Scrollspy=n});