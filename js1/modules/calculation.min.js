var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(h){return h.raw=h};$jscomp.createTemplateTagFirstArgWithRaw=function(h,c){h.raw=c;return h};
LazyScript.load("jquery",function(h){h.Calculation=function(c){function e(a,b,g){var f=$.type(a);switch(b){case "string":if("string"==f)return a;break;case "function":if("function"==f)return a;break;case "boolean":if("boolean"==f)return a;break;case "param":if("array"!=f)return[];for(b=0;b<a.length;b++)a[b]={name:e(a[b].name,"string"),selector:e(a[b].selector,"string"),type:e(a[b].type,"param[].type"),number:e(a[b].number,"boolean",!0),range:e(a[b].range,"param[].range"),decimal:e(a[b].decimal,"param[].decimal",
0)};return a;case "param[].type":if("string"==f&&-1!==["input","radio","checkbox","select"].indexOf(a))return a;break;case "param[].range":if("array"==f&&2==a.length&&!isNaN(parseFloat(a[0]))&&!isNaN(parseFloat(a[1])))return[parseFloat(a[0]),parseFloat(a[1])];break;case "param[].decimal":if("number"==f&&0<=a&&5>=a)return parseInt(a);break;case "error":if("array"==f){for(b=0;b<a.length;b++)a[b]={name:e(a[b].name,"string"),condition:e(a[b].condition,"string"),message:e(a[b].message,"string"),false:e(a[b].false,
"function"),true:e(a[b].true,"function")};return a}return[];case "disabled":if("array"==f){for(b=0;b<a.length;b++)a[b]={name:e(a[b].name,"string"),condition:e(a[b].condition,"string"),false:e(a[b].false,"function"),true:e(a[b].true,"function")};return a}return[];case "hidden":if("array"==f){for(b=0;b<a.length;b++)a[b]={name:e(a[b].name,"string"),condition:e(a[b].condition,"string"),false:e(a[b].false,"function"),true:e(a[b].true,"function")};return a}return[];case "errorShowType":return c.submit?
2===a?2:1:1;case "result":if("array"==f){for(b=0;b<a.length;b++)a[b]={formula:e(a[b].formula,"string"),calculation:e(a[b].calculation,"function"),selector:e(a[b].selector,"string"),decimal:e(a[b].decimal,"number",2)},a[b].element=$(a[b].selector);return a}return[]}return void 0===g?null:g}function r(){for(var a=0;a<c.param.length;a++){var b=c.param[a],g=$(b.selector);d[b.name]={selector:b.selector,element:g,number:b.number,decimal:b.decimal,type:b.type,range:b.range,statusError:!1,statusDisabled:!1,
statusHidden:!1,errorMessage:[]};eval("var "+b.name)}for(var f in d)"input"==d[f].type?v(f):d[f].element.change(k)}function v(a){d[a].element.bind("input propertychange",function(){var b=d[a].element.val();var g=b.split(".").length-1,f=b.indexOf(".");d[a].number?(1<g&&(b=b.substr(0,f)+"."+b.substr(f+1).replaceAll(".","")),isNaN(parseFloat(b))?d[a].element.val(""):(b=-1===f?parseInt(b):b.substr(0,f+1+d[a].decimal),d[a].range&&(b<d[a].range[0]&&(b=d[a].range[0]),b>d[a].range[1]&&(b=d[a].range[1])),
d[a].element.val(b)),k(),b=void 0):b=k();return b})}function k(){w();x();y();z();m||t()}function w(){for(var a in d){var b=d[a];if("checkbox"==b.type){var g=[];b.number?$(b.selector+":checked").each(function(f,n){return g.push(parseFloat(n.value))}):$(b.selector+":checked").each(function(f,n){return g.push(n.value)});eval(a+" = "+JSON.stringify(g))}else"radio"==b.type?(g=$(b.selector+":checked").val(),void 0===g&&(g=null),b.number&&(g=parseFloat(g))):(g=b.element.val(),b.number&&(g=0==g.length?null:
parseFloat(g))),eval(a+" = "+("string"==$.type(g)?'"'+g+'"':g))}}function x(){if(c.gather){for(var a in d)d[a].statusError=!1,d[a].errorMessage=[];a={};for(var b=0;b<c.error.length;b++){var g=eval(c.error[b].name);"input"==d[c.error[b].name].type&&null!==g&&eval(c.error[b].condition)&&(a[c.error[b].name]?a[c.error[b].name].push(c.error[b].message):a[c.error[b].name]=[c.error[b].message])}for(var f in a)d[f].statusError=!0,d[f].errorMessage=a[f];1==c.errorShowType&&p()}else{f=[];for(a=0;a<c.error.length;a++)b=
eval(c.error[a].name),"input"==d[c.error[a].name].type&&-1===f.indexOf(c.error[a].name)&&(null!==b&&eval(c.error[a].condition)?(f.push(c.error[a].name),d[c.error[a].name].statusError=!0,d[c.error[a].name].errorMessage=[c.error[a].message]):(d[c.error[a].name].statusError=!1,d[c.error[a].name].errorMessage=[]));1==c.errorShowType&&q()}}function y(){for(var a=!1,b=0;b<c.disabled.length;b++)"input"==d[c.disabled[b].name].type&&(eval(c.disabled[b].condition)?0==d[c.disabled[b].name].statusDisabled&&(c.disabled[b].true(),
d[c.disabled[b].name].statusDisabled=!0,d[c.disabled[b].name].element.val(""),a=!0):1==d[c.disabled[b].name].statusDisabled&&(c.disabled[b].false(),d[c.disabled[b].name].statusDisabled=!1));a&&k()}function z(){for(var a=0;a<c.hidden.length;a++)eval(c.hidden[a].condition)?(c.hidden[a].true(),d[c.hidden[a].name].statusHidden=!0):(c.hidden[a].false(),d[c.hidden[a].name].statusHidden=!1)}function q(){for(var a=!0,b=0;b<c.error.length;b++)c.error[b].false();for(var g in d)d[g].statusError&&(a=!1);if(a)return!0;
for(var f in d)if(d[f].statusError)for(b=0;b<c.error.length;b++)if(d[f].errorMessage[0]==c.error[b].message){c.error[b].true(d[f].errorMessage[0]);break}return!1}function p(){if(!c.gather)return!0;var a={},b;for(b in d)0<d[b].errorMessage.length&&(a[b]=d[b].errorMessage);if(0<Object.keys(a).length)return eval("("+c.gather+")("+JSON.stringify(a)+")"),c.resultClear&&l(null),!1;eval("("+c.gather+")(null)");return!0}function t(){var a=!0,b;for(b in d)d[b].statusHidden||d[b].statusError&&(a=!1);a&&(a=
eval("!!("+c.resultCondition+")"));2==c.errorShowType&&((c.gather?p():q())||(a=!1));a?A():c.resultClear&&l(null)}function A(){for(var a=0;a<c.result.length;a++){var b=c.result[a].formula?eval(c.result[a].formula):c.result[a].calculation?eval("("+c.result[a].calculation+")()"):"";b===parseFloat(b)&&(b=B(b,c.result[a].decimal));l(a,b)}}function l(a,b){if(null===a)for(a=0;a<c.result.length;a++)c.result[a].element.html("");else c.result[a].element.html(b)}function B(a,b){return isNaN(parseFloat(a))?"":
Math.round((parseFloat(a)+Number.EPSILON)*Math.pow(10,b))/Math.pow(10,b)}c.param=e(c.param,"param");c.error=e(c.error,"error");c.disabled=e(c.disabled,"disabled");c.hidden=e(c.hidden,"hidden");c.submit=e(c.submit,"string");c.gather=e(c.gather,"function");c.errorShowType=e(c.errorShowType,"errorShowType");c.result=e(c.result,"result");c.resultClear=e(c.resultClear,"boolean",!0);c.resultCondition=e(c.resultCondition,"string");c.reset=e(c.reset,"string");var d={},m=c.submit?$(c.submit):null,u=c.reset?
$(c.reset):null;r();m&&m.click(t);u&&u.click(function(){for(var a in d){d[a].statusError=!1;d[a].errorMessage=[];for(var b=0;b<d[a].element.length;b++)d[a].element.eq(b).parent().html(d[a].element.eq(b).parent().html())}c.gather?p():q();r();k();l(null)});k()}});