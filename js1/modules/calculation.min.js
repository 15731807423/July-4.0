var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(q){return q.raw=q};$jscomp.createTemplateTagFirstArgWithRaw=function(q,c){q.raw=c;return q};
LazyScript.load("jquery",function(q){q.Calculation=function(c){function f(a,b,e){var g=$.type(a);switch(b){case "string":if("string"==g)return a;break;case "function":if("function"==g)return a;break;case "boolean":if("boolean"==g)return a;break;case "number":if("number"==g)return a;break;case "param":if("array"!=g)return[];for(b=0;b<a.length;b++)a[b]={name:f(a[b].name,"string"),selector:f(a[b].selector,"string"),type:f(a[b].type,"param[].type"),number:f(a[b].number,"boolean",!0),range:f(a[b].range,
"param[].range"),decimal:f(a[b].decimal,"param[].decimal",0),sync:f(a[b].sync,"boolean",!1)};return a;case "param[].type":if("string"==g&&-1!==["input","radio","checkbox","select"].indexOf(a))return a;break;case "param[].range":if("array"==g&&2==a.length&&!isNaN(parseFloat(a[0]))&&!isNaN(parseFloat(a[1])))return[parseFloat(a[0]),parseFloat(a[1])];break;case "param[].decimal":if("number"==g&&0<=a&&5>=a)return parseInt(a);break;case "error":if("array"==g){for(b=0;b<a.length;b++)a[b]={name:f(a[b].name,
"string"),condition:f(a[b].condition,"string"),message:f(a[b].message,"string"),bind:f(a[b].bind,"number"),false:f(a[b].false,"function"),true:f(a[b].true,"function")};return a}return[];case "disabled":if("array"==g){for(b=0;b<a.length;b++)a[b]={name:f(a[b].name,"string"),condition:f(a[b].condition,"string"),false:f(a[b].false,"function"),true:f(a[b].true,"function")};return a}return[];case "hidden":if("array"==g){for(b=0;b<a.length;b++)a[b]={name:f(a[b].name,"string"),condition:f(a[b].condition,
"string"),false:f(a[b].false,"function"),true:f(a[b].true,"function")};return a}return[];case "errorShowType":return c.submit?2===a?2:1:1;case "result":if("array"==g){for(b=0;b<a.length;b++)a[b]={calculation:f(a[b].calculation,"result[].calculation"),selector:f(a[b].selector,"string"),decimal:f(a[b].decimal,"number",2)},a[b].element=$(a[b].selector);return a}return[];case "result[].calculation":if("string"==g||"function"==g)return a}return void 0===e?null:e}function A(a){d[a].element.bind("input propertychange",
function(){var b=d[a].element.val();var e=b.split(".").length-1,g=b.indexOf(".");d[a].number?(1<e&&(b=b.substr(0,g)+"."+b.substr(g+1).replaceAll(".","")),isNaN(parseFloat(b))?d[a].element.val(""):(b=-1===g?parseInt(b):b.substr(0,g+1+d[a].decimal),d[a].range&&(b<d[a].range[0]&&(b=d[a].range[0]),b>d[a].range[1]&&(b=d[a].range[1])),d[a].element.val(b)),t(a),b=void 0):b=t();return b})}function B(a){d[a].element.change(function(){d[a].sync&&d[a].element.val($(this).val());t(a)})}function t(a){F();var b=
[];if(a)for(var e=0;e<n.length;e++){var g=void 0,l=void 0;c.error[n[e][0]].name==a&&(g=n[e][0],l=n[e][1]);c.error[n[e][1]].name==a&&(g=n[e][1],l=n[e][0]);null!==g&&null!==l&&(b.push(l),d[c.error[l].name].statusError=!1,d[c.error[l].name].errorMessage=[],c.error[l].false())}if(c.gather){for(var C in d)d[C].statusError=!1,d[C].errorMessage=[];a={};for(e=0;e<c.error.length;e++)-1===b.indexOf(e)&&"input"==d[c.error[e].name].type&&p(c.error[e].name+" !== null && ("+c.error[e].condition+")")&&(a[c.error[e].name]?
a[c.error[e].name].push(c.error[e].message):a[c.error[e].name]=[c.error[e].message]);for(var h in a)d[h].statusError=!0,d[h].errorMessage=a[h];1==c.errorShowType&&v()}else{h=[];for(a=0;a<c.error.length;a++)-1===b.indexOf(a)&&"input"==d[c.error[a].name].type&&-1===h.indexOf(c.error[a].name)&&(p(c.error[a].name+" !== null && ("+c.error[a].condition+")")?(h.push(c.error[a].name),d[c.error[a].name].statusError=!0,d[c.error[a].name].errorMessage=[c.error[a].message]):(d[c.error[a].name].statusError=!1,
d[c.error[a].name].errorMessage=[]));1==c.errorShowType&&w()}b=!1;for(h=0;h<c.disabled.length;h++)"input"==d[c.disabled[h].name].type&&(p(c.disabled[h].condition)?0==d[c.disabled[h].name].statusDisabled&&(c.disabled[h].true(),d[c.disabled[h].name].statusDisabled=!0,d[c.disabled[h].name].element.val(""),b=!0):1==d[c.disabled[h].name].statusDisabled&&(c.disabled[h].false(),d[c.disabled[h].name].statusDisabled=!1));b&&t();for(b=0;b<c.hidden.length;b++)p(c.hidden[b].condition)?(c.hidden[b].true(),d[c.hidden[b].name].statusHidden=
!0):(c.hidden[b].false(),d[c.hidden[b].name].statusHidden=!1);x||D()}function F(){for(var a in d){var b=d[a];if("checkbox"==b.type){var e=[];b.number?$(b.selector+":checked").each(function(g,l){return e.push(parseFloat(l.value))}):$(b.selector+":checked").each(function(g,l){return e.push(l.value)});r[a]=JSON.stringify(e)}else"radio"==b.type?(e=$(b.selector+":checked").val(),void 0===e&&(e=null),b.number&&(e=parseFloat(e))):(e=b.element.val(),b.number&&(e=0==e.length?null:parseFloat(e))),r[a]=e}}function w(){for(var a=
!0,b=0;b<c.error.length;b++)c.error[b].false();for(var e in d)d[e].statusError&&(a=!1);if(a)return!0;for(var g in d)if(d[g].statusError)for(b=0;b<c.error.length;b++)if(d[g].errorMessage[0]==c.error[b].message){c.error[b].true(d[g].errorMessage[0]);break}return!1}function v(){if(!c.gather)return!0;var a={},b;for(b in d)0<d[b].errorMessage.length&&(a[b]=d[b].errorMessage);if(0<Object.keys(a).length)return p("("+c.gather+")("+JSON.stringify(a)+")"),c.resultClear&&u(null),!1;p("("+c.gather+")(null)");
return!0}function D(){var a=!0;for(b in d)d[b].statusHidden||d[b].statusError&&(a=!1);a&&(a=p("!!("+c.resultCondition+")"));2==c.errorShowType&&((c.gather?v():w())||(a=!1));if(a)for(a=0;a<c.result.length;a++){var b=c.result[a];var e=$.type(b.calculation);b="string"==e?p(b.calculation):"function"==e?p("("+b.calculation+")()"):"";b===parseFloat(b)&&(e=c.result[a].decimal,b=isNaN(parseFloat(b))?"":Math.round((parseFloat(b)+Number.EPSILON)*Math.pow(10,e))/Math.pow(10,e));u(a,b)}else c.resultClear&&u(null)}
function u(a,b){if(null===a)for(a=0;a<c.result.length;a++)c.result[a].element.html("");else c.result[a].element.html(b)}function p(a){for(var b in r)eval("var "+b+" = "+("string"==$.type(r[b])?'"'+r[b]+'"':r[b])+";");return eval(a)}c.param=f(c.param,"param");c.error=f(c.error,"error");c.disabled=f(c.disabled,"disabled");c.hidden=f(c.hidden,"hidden");c.submit=f(c.submit,"string");c.gather=f(c.gather,"function");c.errorShowType=f(c.errorShowType,"errorShowType");c.result=f(c.result,"result");c.resultClear=
f(c.resultClear,"boolean",!0);c.resultCondition=f(c.resultCondition,"string");c.reset=f(c.reset,"string");for(var d={},r={},n=[],x=c.submit?$(c.submit):null,E=c.reset?$(c.reset):null,m=0;m<c.param.length;m++){var k=c.param[m],y=$(k.selector);d[k.name]={selector:k.selector,element:y,number:k.number,decimal:k.decimal,type:k.type,range:k.range,sync:k.sync,statusError:!1,statusDisabled:!1,statusHidden:!1,errorMessage:[]};r[k.name]=null}for(var z in d)"input"==d[z].type?A(z):B(z);for(m=0;m<c.error.length;m++)null!==
c.error[m].bind&&c.error[m].bind!==m&&(k=[m,c.error[m].bind],y=JSON.stringify(k.sort(function(a,b){return a-b})),-1===n.indexOf(y)&&n.push(k));x&&x.click(D);E&&E.click(function(){for(var a in d){d[a].statusError=!1;d[a].errorMessage=[];for(var b=0;b<d[a].element.length;b++)d[a].element.eq(b).parent().html(d[a].element.eq(b).parent().html())}c.gather?v():w();for(var e in d)d[e].element=$(d[e].selector),"input"==d[e].type?A(e):B(e);t();u(null)});t()}});