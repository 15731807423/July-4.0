var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(h){return h.raw=h};$jscomp.createTemplateTagFirstArgWithRaw=function(h,c){h.raw=c;return h};
LazyScript.load("jquery",function(h){h.Calculation=function(c){function f(b,a,g){var e=$.type(b);switch(a){case "string":if("string"==e)return b;break;case "function":if("function"==e)return b;break;case "boolean":if("boolean"==e)return b;break;case "param":if("array"!=e)return[];for(a=0;a<b.length;a++)b[a]={name:f(b[a].name,"string"),selector:f(b[a].selector,"string"),type:f(b[a].type,"param[].type"),number:f(b[a].number,"boolean",!0),range:f(b[a].range,"param[].range"),decimal:f(b[a].decimal,"param[].decimal",
0)};return b;case "param[].type":if("string"==e&&-1!==["input","radio","checkbox","select"].indexOf(b))return b;break;case "param[].range":if("array"==e&&2==b.length&&!isNaN(parseFloat(b[0]))&&!isNaN(parseFloat(b[1])))return[parseFloat(b[0]),parseFloat(b[1])];break;case "param[].decimal":if("number"==e&&0<=b&&5>=b)return parseInt(b);break;case "error":if("array"==e){for(a=0;a<b.length;a++)b[a]={name:f(b[a].name,"string"),condition:f(b[a].condition,"string"),message:f(b[a].message,"string"),false:f(b[a].false,
"function"),true:f(b[a].true,"function")};return b}return[];case "disabled":if("array"==e){for(a=0;a<b.length;a++)b[a]={name:f(b[a].name,"string"),condition:f(b[a].condition,"string"),false:f(b[a].false,"function"),true:f(b[a].true,"function")};return b}return[];case "hidden":if("array"==e){for(a=0;a<b.length;a++)b[a]={name:f(b[a].name,"string"),condition:f(b[a].condition,"string"),false:f(b[a].false,"function"),true:f(b[a].true,"function")};return b}return[];case "errorShowType":return c.submit?
2===b?2:1:1;case "result":if("array"==e){for(a=0;a<b.length;a++)b[a]={calculation:f(b[a].calculation,"result[].calculation"),selector:f(b[a].selector,"string"),decimal:f(b[a].decimal,"number",2)},b[a].element=$(b[a].selector);return b}return[];case "result[].calculation":if("string"==e||"function"==e)return b}return void 0===g?null:g}function r(){for(var b=0;b<c.param.length;b++){var a=c.param[b],g=$(a.selector);d[a.name]={selector:a.selector,element:g,number:a.number,decimal:a.decimal,type:a.type,
range:a.range,statusError:!1,statusDisabled:!1,statusHidden:!1,errorMessage:[]};eval("var "+a.name)}for(var e in d)"input"==d[e].type?v(e):d[e].element.change(k)}function v(b){d[b].element.bind("input propertychange",function(){var a=d[b].element.val();var g=a.split(".").length-1,e=a.indexOf(".");d[b].number?(1<g&&(a=a.substr(0,e)+"."+a.substr(e+1).replaceAll(".","")),isNaN(parseFloat(a))?d[b].element.val(""):(a=-1===e?parseInt(a):a.substr(0,e+1+d[b].decimal),d[b].range&&(a<d[b].range[0]&&(a=d[b].range[0]),
a>d[b].range[1]&&(a=d[b].range[1])),d[b].element.val(a)),k(),a=void 0):a=k();return a})}function k(){w();x();y();z();m||t()}function w(){for(var b in d){var a=d[b];if("checkbox"==a.type){var g=[];a.number?$(a.selector+":checked").each(function(e,n){return g.push(parseFloat(n.value))}):$(a.selector+":checked").each(function(e,n){return g.push(n.value)});eval(b+" = "+JSON.stringify(g))}else"radio"==a.type?(g=$(a.selector+":checked").val(),void 0===g&&(g=null),a.number&&(g=parseFloat(g))):(g=a.element.val(),
a.number&&(g=0==g.length?null:parseFloat(g))),eval(b+" = "+("string"==$.type(g)?'"'+g+'"':g))}}function x(){if(c.gather){for(var b in d)d[b].statusError=!1,d[b].errorMessage=[];b={};for(var a=0;a<c.error.length;a++){var g=eval(c.error[a].name);"input"==d[c.error[a].name].type&&null!==g&&eval(c.error[a].condition)&&(b[c.error[a].name]?b[c.error[a].name].push(c.error[a].message):b[c.error[a].name]=[c.error[a].message])}for(var e in b)d[e].statusError=!0,d[e].errorMessage=b[e];1==c.errorShowType&&p()}else{e=
[];for(b=0;b<c.error.length;b++)a=eval(c.error[b].name),"input"==d[c.error[b].name].type&&-1===e.indexOf(c.error[b].name)&&(null!==a&&eval(c.error[b].condition)?(e.push(c.error[b].name),d[c.error[b].name].statusError=!0,d[c.error[b].name].errorMessage=[c.error[b].message]):(d[c.error[b].name].statusError=!1,d[c.error[b].name].errorMessage=[]));1==c.errorShowType&&q()}}function y(){for(var b=!1,a=0;a<c.disabled.length;a++)"input"==d[c.disabled[a].name].type&&(eval(c.disabled[a].condition)?0==d[c.disabled[a].name].statusDisabled&&
(c.disabled[a].true(),d[c.disabled[a].name].statusDisabled=!0,d[c.disabled[a].name].element.val(""),b=!0):1==d[c.disabled[a].name].statusDisabled&&(c.disabled[a].false(),d[c.disabled[a].name].statusDisabled=!1));b&&k()}function z(){for(var b=0;b<c.hidden.length;b++)eval(c.hidden[b].condition)?(c.hidden[b].true(),d[c.hidden[b].name].statusHidden=!0):(c.hidden[b].false(),d[c.hidden[b].name].statusHidden=!1)}function q(){for(var b=!0,a=0;a<c.error.length;a++)c.error[a].false();for(var g in d)d[g].statusError&&
(b=!1);if(b)return!0;for(var e in d)if(d[e].statusError)for(a=0;a<c.error.length;a++)if(d[e].errorMessage[0]==c.error[a].message){c.error[a].true(d[e].errorMessage[0]);break}return!1}function p(){if(!c.gather)return!0;var b={},a;for(a in d)0<d[a].errorMessage.length&&(b[a]=d[a].errorMessage);if(0<Object.keys(b).length)return eval("("+c.gather+")("+JSON.stringify(b)+")"),c.resultClear&&l(null),!1;eval("("+c.gather+")(null)");return!0}function t(){var b=!0,a;for(a in d)d[a].statusHidden||d[a].statusError&&
(b=!1);b&&(b=eval("!!("+c.resultCondition+")"));2==c.errorShowType&&((c.gather?p():q())||(b=!1));b?A():c.resultClear&&l(null)}function A(){for(var b=0;b<c.result.length;b++){var a=c.reset[b],g=$.type(a.calculation);a="string"==g?eval(a.calculation):"function"==g?eval("("+a.calculation+")()"):"";a===parseFloat(a)&&(a=B(a,c.result[b].decimal));l(b,a)}}function l(b,a){if(null===b)for(b=0;b<c.result.length;b++)c.result[b].element.html("");else c.result[b].element.html(a)}function B(b,a){return isNaN(parseFloat(b))?
"":Math.round((parseFloat(b)+Number.EPSILON)*Math.pow(10,a))/Math.pow(10,a)}c.param=f(c.param,"param");c.error=f(c.error,"error");c.disabled=f(c.disabled,"disabled");c.hidden=f(c.hidden,"hidden");c.submit=f(c.submit,"string");c.gather=f(c.gather,"function");c.errorShowType=f(c.errorShowType,"errorShowType");c.result=f(c.result,"result");c.resultClear=f(c.resultClear,"boolean",!0);c.resultCondition=f(c.resultCondition,"string");c.reset=f(c.reset,"string");var d={},m=c.submit?$(c.submit):null,u=c.reset?
$(c.reset):null;r();m&&m.click(t);u&&u.click(function(){for(var b in d){d[b].statusError=!1;d[b].errorMessage=[];for(var a=0;a<d[b].element.length;a++)d[b].element.eq(a).parent().html(d[b].element.eq(a).parent().html())}c.gather?p():q();r();k();l(null)});k()}});